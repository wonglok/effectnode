(this["webpackJsonpeffectnode-example"]=this["webpackJsonpeffectnode-example"]||[]).push([[0],{43:function(e,t,n){e.exports=n(62)},44:function(e,t,n){},55:function(e,t,n){var r={"./lok.myFristNode.js":[63,5],"./lok.mySecondNode.js":[64,6]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id=55,e.exports=o},56:function(e,t,n){var r={"./lok.myFristNode.js":[65,3],"./lok.mySecondNode.js":[66,4]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id=56,e.exports=o},62:function(e,t,n){"use strict";n.r(t);n(44);var r=n(4),o=n.n(r),a=n(39),i=n.n(a),u=n(26),s=n(10),c=n(8),d=function(){function e(){this.listeners=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)},t.removeEventListener=function(e,t){var n=this.listeners.get(e),r=0;return!!(n&&n.length&&(r=n.reduce((function(e,n,r){return"function"===typeof n&&n===t?e=r:e}),-1))>-1)&&(n.splice(r,1),this.listeners.set(e,n),!0)},t.trigger=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.listeners.get(e);return!(!o||!o.length)&&(o.forEach((function(e){e.apply(void 0,n)})),!0)},e}(),l=function(e){var t=this,n=e.parent,r=void 0!==n&&n;this.name="ENMini",this.parent=r,this.resource=new Map,this.get=function(e){return new Promise((function(n){var r=0;r=setInterval((function(){t.parent?(t.resource.has(e)||t.parent.resource.has(e))&&(clearInterval(r),n(t.resource.get(e)||t.parent.resource.get(e))):t.resource.has(e)&&(clearInterval(r),n(t.resource.get(e)))}))}))};var o="_"+Math.random().toString(36).substr(2,9)+Math.random().toString(36).substr(2,9);this.set=function(e,n){t.resource.set(e,n),window.dispatchEvent(new window.CustomEvent(""+o+e,{detail:n}))},this.onChange=function(e,n){var r=function(e){var t=e.detail;n(t)};t.get(e).then(n),window.addEventListener(""+o+e,r),t.onClean((function(){window.removeEventListener(""+o+e,r)}))};var a=!1;this.tasks=[],this.resizeTasks=[],this.cleanTasks=[],this.onLoop=function(e,n){void 0===n&&(n=0),n>=0?t.tasks.push(e):t.tasks.unshift(e)},this.onResize=function(e){e(),t.resizeTasks.push(e)},this.onClean=function(e){t.cleanTasks.push(e)};var i=0;window.addEventListener("resize",(function(){clearTimeout(i),i=setTimeout((function(){t.resizeTasks.forEach((function(e){return e()}))}),16.8888)}));var u=!1;this.toggle=function(){u=!u},this.pause=function(){u=!0},this.play=function(){u=!1},this.clean=function(){a=!0;try{t.cleanTasks.forEach((function(e){return e()}))}catch(e){console.error(e)}},this.lastTime=window.performance.now(),this.work=function(){if(t.timeNow=window.performance.now(),a)return{name:t.name,duration:0};if(u)return{name:t.name,duration:0};var e=window.performance.now();try{var n=t.timeNow,r=t.lastTime,o=n-r;t.lastTime=n,n/=1e3,(o/=1e3)>=100&&(o=100),t.tasks.forEach((function(e){return e(n,o)}))}catch(s){console.error(s)}var i=window.performance.now()-e;return{name:t.name,duration:i}},this.ready=new Proxy({},{get:function(e,n){return t.get(n)}}),this.now=new Proxy({},{get:function(e,n){return t.parent?t.resource.get(n)||t.parent.resource.get(n):t.resource.get(n)}})},f=function(e){var t=e.firebaseConfig,n=e.graphID;try{var r=function(e){return e.replace(/\/+$/,"")}(t.databaseURL)+"/canvas/"+n+".json";return Promise.resolve(function(e){var t=e.url;return new Promise((function(e,n){var r=new p("GET",t);r.onreadystatechange=function(){if(4===r.readyState)try{var t=JSON.parse(r.responseText);e(t)}catch(o){n(o)}},r.send()}))}({url:r}).then(h,(function(){return!1})))}catch(o){return Promise.reject(o)}},m=function(e){var t=this,n=e.json,r=void 0!==n&&n,o=e.codes,a=void 0===o?[]:o,i=e.codeIDKey,u=void 0===i?"title":i,s=e.codeLoaderKey,c=void 0===s?"loader":s;if(this.events=new d,!a)throw new Error("needs code batteries");if(!r)throw new Error("needs code batteries");this.json=r,this.codes=a,this.mini=new l({}),this.clean=function(){t.mini.clean()};var f=function(e,n){t.events.addEventListener(e,n),t.mini.onClean((function(){t.events.removeEventListener(e,n)}))},m=function(e,n){t.events.trigger(e,n)};this.json.connections.forEach((function(e){f(e.data.output._id,(function(t){m(e.data.input._id,t)}))})),this.json.nodes.forEach((function(e){var n=e.data.title,r=new Map,o=e.data.inputs,i=e.data.outputs;o.forEach((function(e,t){var n=!1,o={stream:function(t){f(e._id,t)},get ready(){return new Promise((function(e){var t=setInterval((function(){n&&(clearInterval(t),e(n))}),0)}))}};f(e._id,(function(e){n=e})),r.set("in"+t,o)})),i.forEach((function(e,t){r.set("out"+t,{pulse:function(t){m(e._id,t)}})}));var s=new Proxy({},{get:function(e,t){return(0!==t.indexOf("in")||isNaN(t[2]))&&(0!==t.indexOf("out")||isNaN(t[3]))?void 0:r.get(t)}}),d=a.find((function(e){return e[u]===n}));d&&d[c]().then((function(e){try{return Promise.resolve(e.effect({mini:t.mini,node:s}))}catch(n){return Promise.reject(n)}})).catch((function(e){console.log(e)}))})),this.mini.set("all-ready",!0)},p=function(e,t){var n=!1;try{n=new window.XMLHttpRequest}catch(r){}return n&&"withCredentials"in n?n.open(e,t,!0):"undefined"!==typeof XDomainRequest?((n=new window.XDomainRequest).open(e,t),n.onload=function(){n.readyState=4,n.onreadystatechange instanceof Function&&n.onreadystatechange()}):n&&n.open(e,t,!0),n};var h=function(e){var t=!1;for(var n in e)t||(t=e[n]);if(t){var r=[];for(var o in t.connections)r.push({_fid:o,data:t.connections[o]});var a=[];for(var i in t.nodes)a.push({_fid:i,data:t.nodes[i]});return{connections:r,nodes:a}}return!1},v=n(21);function w(e){var t=e.url;return o.a.createElement("a",{href:t,target:"_blank",rel:"noreferrer noopener"},o.a.createElement("button",{style:{position:"absolute",bottom:"50px",right:"50px",padding:"10px 20px",appearance:"none",backgroundColor:"greenyellow",border:"none",borderRadius:"15px",color:"darkgreen",cursor:"pointer"}},"View Code"))}function k(){return o.a.createElement("div",{style:{width:"100%",height:"100%"}},o.a.createElement(v.a,{style:{width:"100%",height:"100%"}},o.a.createElement(y,null)),o.a.createElement(w,{url:"https://github.com/wonglok/effectnode/blob/master/example/src/pages/StaticDemo/StaticDemo.js"}))}function y(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useState)((function(){return o.a.createElement("group",null)})),a=Object(c.a)(n,2),i=a[0],u=a[1];return Object(r.useEffect)((function(){return t.current=new m({json:h({NGpUixuU0NOkOlmLsLuepkaZxxt1:{connections:{"-MdPINDxi9T3AotCKSfB":{_id:"_via641l4y3wgloaeb7",input:{_id:"_od5ohzl5avwo3ltnf8",nodeID:"_lka05oa2emaxqkxd7w",type:"input"},output:{_id:"_iys0bi1wbszoajdrbq",nodeID:"_sbhxwatnnvkk95yslm",type:"output"}}},nodes:{"-MdFPnHiFrg5AXKZPPLV":{_id:"_lka05oa2emaxqkxd7w",inputs:[{_id:"_od5ohzl5avwo3ltnf8",nodeID:"_lka05oa2emaxqkxd7w",type:"input"},{_id:"_fbb9aoyc66f0f057p4",nodeID:"_lka05oa2emaxqkxd7w",type:"input"},{_id:"_kbb8xyxn4zegnkmww4",nodeID:"_lka05oa2emaxqkxd7w",type:"input"},{_id:"_j27f14qjt3crj7jrkm",nodeID:"_lka05oa2emaxqkxd7w",type:"input"},{_id:"_5awgse7wgryzl4unfr",nodeID:"_lka05oa2emaxqkxd7w",type:"input"}],outputs:[{_id:"_wcz630splzoznvol9b",nodeID:"_lka05oa2emaxqkxd7w",type:"output"},{_id:"_yn1yu9pye1gep7hui2",nodeID:"_lka05oa2emaxqkxd7w",type:"output"},{_id:"_aydf7dn80m375qhcus",nodeID:"_lka05oa2emaxqkxd7w",type:"output"},{_id:"_p9k078jvmtv2muzw8t",nodeID:"_lka05oa2emaxqkxd7w",type:"output"},{_id:"_g4d8r8w1y5ybgdutey",nodeID:"_lka05oa2emaxqkxd7w",type:"output"}],position:[13.81351241290946,-6268112984381583e-30,28.229071300777065],title:"lok.mySecondNode.js"},"-MdMk9rFgJSESwDybIfB":{_id:"_sbhxwatnnvkk95yslm",inputs:[{_id:"_dzsph16c3ubtltaukb",nodeID:"_sbhxwatnnvkk95yslm",type:"input"},{_id:"_8oxaioc4n4xche1mmi",nodeID:"_sbhxwatnnvkk95yslm",type:"input"},{_id:"_h67wqxjauc8uit6qzf",nodeID:"_sbhxwatnnvkk95yslm",type:"input"},{_id:"_txfnifvgobsqp7wkno",nodeID:"_sbhxwatnnvkk95yslm",type:"input"},{_id:"_hh7yqw6u0kaa2f4vsr",nodeID:"_sbhxwatnnvkk95yslm",type:"input"}],outputs:[{_id:"_iys0bi1wbszoajdrbq",nodeID:"_sbhxwatnnvkk95yslm",type:"output"},{_id:"_s06csj99keboy364wd",nodeID:"_sbhxwatnnvkk95yslm",type:"output"},{_id:"_r94f0g30633kompktd",nodeID:"_sbhxwatnnvkk95yslm",type:"output"},{_id:"_lm15qdzn3k08zt783f",nodeID:"_sbhxwatnnvkk95yslm",type:"output"},{_id:"_izp3hqkt018y23lwk0",nodeID:"_sbhxwatnnvkk95yslm",type:"output"}],position:[23.8559458588784,1363425432176458e-30,-6.1403222682973535],title:"lok.myFristNode.js"}}}}),codes:_()}),t.current.mini.get("DefaultComponent").then((function(e){u(e)})),function(){t.current&&(t.current.mini.clean(),t.current.clean())}}),[]),Object(v.b)((function(n){var r=(0,n.get)();if(t.current){for(var o in r)t.current.mini.set(o,r[o]);e.current&&t.current.mini.set("mounter",e.current),t.current.mini.work()}})),o.a.createElement(o.a.Fragment,null,o.a.createElement("group",{ref:e},i))}var _=function(){var e=n(37);return function(t){var n=[];return t.keys().forEach((function(r){var o=e.basename(r);n.push({title:o,loader:function(){return t(r)}})})),n}(n(55))};function b(){return o.a.createElement("div",{style:{width:"100%",height:"100%"}},o.a.createElement(v.a,{style:{width:"100%",height:"100%"}},o.a.createElement(g,null)),o.a.createElement(w,{url:"https://github.com/wonglok/effectnode/blob/master/example/src/pages/FirebaseDemo/FirebaseDemo.js"}))}function g(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useState)((function(){return o.a.createElement("group",null)})),a=Object(c.a)(n,2),i=a[0],u=a[1];return Object(r.useEffect)((function(){return f({firebaseConfig:E,graphID:"-MdBQtfGPXXPkl-NuEoW"}).then((function(e){t.current=new m({json:e,codes:x()}),t.current.mini.get("DefaultComponent").then((function(e){u(e)}))})),function(){t.current&&(t.current.mini.clean(),t.current.clean())}}),[]),Object(v.b)((function(n){var r=(0,n.get)();if(t.current){for(var o in r)t.current.mini.set(o,r[o]);e.current&&t.current.mini.set("mounter",e.current),t.current.mini.work()}})),o.a.createElement(o.a.Fragment,null,o.a.createElement("group",{ref:e},i))}var x=function(){var e=n(37);return function(t){var n=[];return t.keys().forEach((function(r){var o=e.basename(r);n.push({title:o,loader:function(){return t(r)}})})),n}(n(56))},E={databaseURL:"https://en-you.firebaseio.com/"};function D(){return o.a.createElement("div",null,"Demos of EffectNode Runtime:",o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(u.b,{to:"/effectnode/StaticDemo"},"StaticDemo")),o.a.createElement("li",null,o.a.createElement(u.b,{to:"/effectnode/FirebaseDemo"},"FirebaseDemo"))))}var j=function(){return o.a.createElement(u.a,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/effectnode/StaticDemo"},o.a.createElement(k,null)),o.a.createElement(s.a,{path:"/effectnode/FirebaseDemo"},o.a.createElement(b,null)),o.a.createElement(s.a,{path:"/"},o.a.createElement(D,null))))};i.a.render(o.a.createElement(j,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.c2f5e477.chunk.js.map